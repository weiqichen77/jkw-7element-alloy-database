# æ•°æ®æ›´æ–°æŒ‡å—

æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•æ£€æŸ¥ã€æ›´æ–°å’Œè¦†ç›–æ•°æ®åº“ä¸­çš„ç°æœ‰ææ–™æ•°æ®ã€‚

## ğŸ“‹ ç›®å½•

- [è¯†åˆ«ææ–™çš„æ ‡å‡†](#è¯†åˆ«ææ–™çš„æ ‡å‡†)
- [å·¥ä½œæµç¨‹](#å·¥ä½œæµç¨‹)
- [å‘½ä»¤ä½¿ç”¨](#å‘½ä»¤ä½¿ç”¨)
- [ç¤ºä¾‹åœºæ™¯](#ç¤ºä¾‹åœºæ™¯)
- [æ³¨æ„äº‹é¡¹](#æ³¨æ„äº‹é¡¹)

---

## ğŸ” è¯†åˆ«ææ–™çš„æ ‡å‡†

ç³»ç»Ÿé€šè¿‡ä»¥ä¸‹**å››ä¸ªå­—æ®µ**ç¡®å®šææ–™æ˜¯å¦å·²å­˜åœ¨ï¼š

1. **åç§°** (`name`)
2. **æ¥æº** (`source`)
3. **ç±»å‹** (`type`)
4. **å…ƒç´ ç»„æˆ** (`composition`)

åªæœ‰å½“è¿™å››ä¸ªå­—æ®µ**å®Œå…¨åŒ¹é…**æ—¶ï¼Œç³»ç»Ÿæ‰è®¤ä¸ºæ˜¯åŒä¸€ä¸ªææ–™ã€‚

---

## ğŸ”„ å·¥ä½œæµç¨‹

### æ­¥éª¤1ï¼šå‡†å¤‡æ›´æ–°æ•°æ®

å‡†å¤‡åŒ…å«æ–°ææ–™æ•°æ®çš„JSONæ–‡ä»¶ï¼Œä¾‹å¦‚ `new-data.json`ï¼š

```json
[
  {
    "source": "mp-bbgt",
    "name": "Nb20Al10",
    "type": "intermetallic",
    "composition": "Nb20Al10",
    "poscar": "/data/intermetallic/mp-bbgt/POSCAR",
    "data": [
      {
        "temperature": 0,
        "source": "DFT",
        "properties": {
          "structure": { ... },
          "thermodynamics": { ... },
          "mechanics": { ... }
        }
      }
    ]
  }
]
```

### æ­¥éª¤2ï¼šé¢„æ£€æŸ¥é‡å¤

ä½¿ç”¨é¢„æ£€è„šæœ¬æŸ¥çœ‹å“ªäº›ææ–™å·²å­˜åœ¨ï¼š

```bash
node scripts/check-duplicates.js new-data.json
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
================================================================================
ğŸ” æ•°æ®é‡å¤æ£€æŸ¥æŠ¥å‘Š
================================================================================

ğŸ“Š å¾…æ£€æŸ¥ææ–™æ•°é‡: 10
ğŸ“š ç°æœ‰æ•°æ®åº“ææ–™æ•°é‡: 123

âš ï¸  å‘ç°é‡å¤æ¡ç›®:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. é‡å¤ææ–™ #1:
   ç°æœ‰ID: Alloy-IM-00001
   åç§°: Nb20Al10
   æ¥æº: mp-bbgt
   ç±»å‹: intermetallic
   ç»„æˆ: Nb20Al10
   çŠ¶æ€: æ•°æ®å°†è¢«æ›´æ–°
   ç°æœ‰æ•°æ®ç‚¹: 1
   æ–°æ•°æ®ç‚¹: 2

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

æ€»è®¡: 3 ä¸ªé‡å¤æ¡ç›®

âœ¨ æ–°ææ–™æ¡ç›®: 7
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Cu3Al5 (mp-new1) - intermetallic
2. Ti2Ni3 (mp-new2) - intermetallic
...

================================================================================
ğŸ“‹ æ£€æŸ¥æ‘˜è¦:
   â€¢ å¾…ä¸Šä¼ ææ–™: 10
   â€¢ é‡å¤æ¡ç›®: 3
   â€¢ æ–°æ¡ç›®: 7
================================================================================

ğŸ’¡ ä¸‹ä¸€æ­¥æ“ä½œ:
   1. å¦‚éœ€æ›´æ–°é‡å¤æ¡ç›®ï¼Œè¯·ä½¿ç”¨: node scripts/update-materials.js <æ–‡ä»¶å>
   2. å¦‚éœ€ä»…æ·»åŠ æ–°æ¡ç›®ï¼Œè¯·æ‰‹åŠ¨åˆ é™¤é‡å¤æ¡ç›®åå†ä¸Šä¼ 
```

### æ­¥éª¤3ï¼šæ‰§è¡Œæ›´æ–°

å¦‚æœç¡®è®¤éœ€è¦æ›´æ–°ï¼Œæ‰§è¡Œæ›´æ–°è„šæœ¬ï¼š

```bash
node scripts/update-materials.js new-data.json
```

**äº¤äº’å¼ç¡®è®¤**ï¼š
```
================================================================================
ğŸ”„ ææ–™æ•°æ®æ›´æ–°å·¥å…·
================================================================================

ğŸ“Š åˆ†æç»“æœ:
   â€¢ å¾…æ›´æ–°æ¡ç›®: 3
   â€¢ å¾…æ·»åŠ æ¡ç›®: 7
   â€¢ ç°æœ‰æ•°æ®åº“æ¡ç›®: 123

âš ï¸  ä»¥ä¸‹æ¡ç›®å°†è¢«æ›´æ–°:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Nb20Al10
   ID: Alloy-IM-00001
   æ¥æº: mp-bbgt
   ç±»å‹: intermetallic
   æ•°æ®ç‚¹: 1 â†’ 2

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ¨ ä»¥ä¸‹æ¡ç›®å°†è¢«æ·»åŠ :
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Cu3Al5 (mp-new1) - intermetallic
...
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âš ï¸  è­¦å‘Š: æ­¤æ“ä½œå°†ä¿®æ”¹æ•°æ®åº“æ–‡ä»¶ï¼
å»ºè®®å…ˆå¤‡ä»½ backend/data/materials_intermetallic.json

ç¡®è®¤æ‰§è¡Œæ›´æ–°å—ï¼Ÿ(yes/no): yes

âœ… å·²åˆ›å»ºå¤‡ä»½: materials_intermetallic.json.backup.1737878400000

ğŸ”„ æ­£åœ¨æ›´æ–°æ•°æ®...

================================================================================
âœ… æ›´æ–°å®Œæˆï¼
================================================================================
   â€¢ å·²æ›´æ–°: 3 æ¡
   â€¢ å·²æ·»åŠ : 7 æ¡
   â€¢ æ€»è®¡: 130 æ¡
   â€¢ å¤‡ä»½æ–‡ä»¶: materials_intermetallic.json.backup.1737878400000
================================================================================

ğŸ’¡ ä¸‹ä¸€æ­¥:
   1. æ£€æŸ¥æ›´æ–°åçš„æ•°æ®: cat backend/data/materials_intermetallic.json
   2. æäº¤æ›´æ”¹: git add backend/data/materials_intermetallic.json
   3. æ¨é€éƒ¨ç½²: git commit -m "Update materials" && git push
```

---

## ğŸ“ å‘½ä»¤ä½¿ç”¨

### 1. é¢„æ£€æŸ¥å‘½ä»¤

**åŸºæœ¬ç”¨æ³•**ï¼š
```bash
node scripts/check-duplicates.js <æ•°æ®æ–‡ä»¶.json>
```

**ç¤ºä¾‹**ï¼š
```bash
# æ£€æŸ¥æ–°æ•°æ®æ–‡ä»¶
node scripts/check-duplicates.js data/new-materials.json

# æ£€æŸ¥ä¸åŒä½ç½®çš„æ–‡ä»¶
node scripts/check-duplicates.js ~/Downloads/updates.json
```

**é€€å‡ºç **ï¼š
- `0`: æ²¡æœ‰é‡å¤ï¼Œå¯ä»¥ç›´æ¥ä¸Šä¼ 
- `1`: å‘ç°é‡å¤ï¼Œéœ€è¦å†³å®šæ˜¯å¦æ›´æ–°

### 2. æ›´æ–°å‘½ä»¤

**åŸºæœ¬ç”¨æ³•**ï¼š
```bash
node scripts/update-materials.js <æ•°æ®æ–‡ä»¶.json> [--force]
```

**å‚æ•°è¯´æ˜**ï¼š
- `<æ•°æ®æ–‡ä»¶.json>`: å¿…éœ€ï¼ŒåŒ…å«æ–°æ•°æ®çš„JSONæ–‡ä»¶
- `--force`: å¯é€‰ï¼Œè·³è¿‡ç¡®è®¤æç¤ºç›´æ¥æ‰§è¡Œ

**ç¤ºä¾‹**ï¼š
```bash
# äº¤äº’å¼æ›´æ–°ï¼ˆæ¨èï¼‰
node scripts/update-materials.js data/updates.json

# å¼ºåˆ¶æ›´æ–°ï¼ˆè·³è¿‡ç¡®è®¤ï¼‰
node scripts/update-materials.js data/updates.json --force
```

---

## ğŸ’¡ ç¤ºä¾‹åœºæ™¯

### åœºæ™¯1ï¼šæ·»åŠ æ–°æ¸©åº¦ç‚¹æ•°æ®

**æƒ…å†µ**ï¼šå·²æœ‰ææ–™ Alloy-IM-00001 (Nb20Al10)ï¼Œç°åœ¨è¦æ·»åŠ 300Kå’Œ600Kçš„æ•°æ®

**æ­¥éª¤**ï¼š

1. åˆ›å»º `update-nb20al10.json`ï¼š
```json
[
  {
    "source": "mp-bbgt",
    "name": "Nb20Al10",
    "type": "intermetallic",
    "composition": "Nb20Al10",
    "poscar": "/data/intermetallic/mp-bbgt/POSCAR",
    "data": [
      {
        "temperature": 0,
        "source": "DFT",
        "properties": { ... }
      },
      {
        "temperature": 300,
        "source": "DPA-1",
        "properties": { ... }
      },
      {
        "temperature": 600,
        "source": "DPA-1",
        "properties": { ... }
      }
    ]
  }
]
```

2. é¢„æ£€æŸ¥ï¼š
```bash
node scripts/check-duplicates.js update-nb20al10.json
```

3. æ›´æ–°ï¼š
```bash
node scripts/update-materials.js update-nb20al10.json
```

### åœºæ™¯2ï¼šä¿®æ­£é”™è¯¯æ•°æ®

**æƒ…å†µ**ï¼šå‘ç° Alloy-IM-00050 çš„å¯†åº¦æ•°æ®æœ‰è¯¯

**æ­¥éª¤**ï¼š

1. ä»æ•°æ®åº“å¯¼å‡ºè¯¥ææ–™æ•°æ®
2. ä¿®æ­£é”™è¯¯å€¼
3. ä½¿ç”¨æ›´æ–°å‘½ä»¤æ›¿æ¢

### åœºæ™¯3ï¼šæ‰¹é‡æ›´æ–°å¤šä¸ªææ–™

**æƒ…å†µ**ï¼šé‡æ–°è®¡ç®—äº†10ä¸ªææ–™çš„åŠ›å­¦æ€§èƒ½

**æ­¥éª¤**ï¼š

1. å‡†å¤‡åŒ…å«10ä¸ªææ–™å®Œæ•´æ•°æ®çš„JSONæ–‡ä»¶
2. é¢„æ£€æŸ¥ç¡®è®¤å…¨éƒ¨åŒ¹é…
3. æ‰¹é‡æ›´æ–°

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ•°æ®åŒ¹é…è§„åˆ™

- **å››å­—æ®µå¿…é¡»å®Œå…¨åŒ¹é…**ï¼šname, source, type, composition
- å¤§å°å†™æ•æ„Ÿï¼ˆnameä¼šè½¬æ¢ä¸ºå°å†™æ¯”è¾ƒï¼‰
- ç©ºæ ¼ä¼šè¢«å¿½ç•¥ï¼ˆåœ¨compositionä¸­ï¼‰

### 2. IDä¿ç•™

- æ›´æ–°æ“ä½œä¼š**ä¿ç•™åŸæœ‰çš„Alloy ID**
- å³ä½¿æ•°æ®å®Œå…¨æ›¿æ¢ï¼ŒIDä¹Ÿä¸ä¼šæ”¹å˜
- è¿™ç¡®ä¿äº†å¼•ç”¨çš„ç¨³å®šæ€§

### 3. å¤‡ä»½æœºåˆ¶

- æ¯æ¬¡æ›´æ–°è‡ªåŠ¨åˆ›å»ºå¸¦æ—¶é—´æˆ³çš„å¤‡ä»½
- å¤‡ä»½æ–‡ä»¶å‘½åï¼š`materials_intermetallic.json.backup.<æ—¶é—´æˆ³>`
- å¦‚éœ€å›æ»šï¼š
  ```bash
  cp backend/data/materials_intermetallic.json.backup.1737878400000 \
     backend/data/materials_intermetallic.json
  ```

### 4. æ•°æ®éªŒè¯

æ›´æ–°ååŠ¡å¿…éªŒè¯ï¼š

```bash
# æ£€æŸ¥JSONæ ¼å¼æ˜¯å¦æ­£ç¡®
cat backend/data/materials_intermetallic.json | jq '.' > /dev/null

# æ£€æŸ¥ææ–™æ•°é‡
cat backend/data/materials_intermetallic.json | jq 'length'

# æŸ¥çœ‹ç‰¹å®šææ–™
cat backend/data/materials_intermetallic.json | jq '.[] | select(.id == "Alloy-IM-00001")'
```

### 5. æäº¤å’Œéƒ¨ç½²

```bash
# 1. æŸ¥çœ‹æ›´æ”¹
git diff backend/data/materials_intermetallic.json

# 2. æš‚å­˜æ›´æ”¹
git add backend/data/materials_intermetallic.json

# 3. æäº¤
git commit -m "Update materials: add new temperature data for 3 compounds"

# 4. æ¨é€éƒ¨ç½²
git push origin main
```

### 6. å¸¸è§é—®é¢˜

**Q: æ›´æ–°ä¼šå½±å“Alloy IDå—ï¼Ÿ**  
A: ä¸ä¼šï¼Œæ›´æ–°æ“ä½œä¼šä¿ç•™ç°æœ‰çš„Alloy IDã€‚

**Q: å¯ä»¥éƒ¨åˆ†æ›´æ–°å±æ€§å—ï¼Ÿ**  
A: ä¸å¯ä»¥ï¼Œæ›´æ–°æ˜¯å®Œæ•´æ›¿æ¢ã€‚éœ€è¦åœ¨æ–°æ•°æ®ä¸­åŒ…å«æ‰€æœ‰å¸Œæœ›ä¿ç•™çš„æ•°æ®ã€‚

**Q: å¦‚æœåŒ¹é…é”™è¯¯æ€ä¹ˆåŠï¼Ÿ**  
A: ä½¿ç”¨é¢„æ£€è„šæœ¬å…ˆç¡®è®¤ï¼Œå¦‚æœå‘ç°åŒ¹é…é”™è¯¯ï¼Œè°ƒæ•´æ–°æ•°æ®æ–‡ä»¶ä¸­çš„è¯†åˆ«å­—æ®µã€‚

**Q: å¯ä»¥åˆ é™¤ææ–™å—ï¼Ÿ**  
A: è¿™ä¸¤ä¸ªè„šæœ¬ä¸æ”¯æŒåˆ é™¤ã€‚éœ€è¦æ‰‹åŠ¨ç¼–è¾‘JSONæ–‡ä»¶åˆ é™¤æ¡ç›®ã€‚

**Q: å¤‡ä»½æ–‡ä»¶éœ€è¦æäº¤å—ï¼Ÿ**  
A: ä¸éœ€è¦ï¼Œå¤‡ä»½æ–‡ä»¶ä»…ç”¨äºæœ¬åœ°æ¢å¤ï¼Œå·²åœ¨ .gitignore ä¸­æ’é™¤ã€‚

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [DATA_UPLOAD_GUIDE.md](DATA_UPLOAD_GUIDE.md) - åˆæ¬¡ä¸Šä¼ æ•°æ®æŒ‡å—
- [SCRIPTS_REFERENCE.md](SCRIPTS_REFERENCE.md) - æ‰€æœ‰è„šæœ¬å‚è€ƒ
- [DATA_STRUCTURE_V2.md](docs/DATA_STRUCTURE_V2.md) - æ•°æ®ç»“æ„è¯´æ˜

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥JSONæ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤å››ä¸ªè¯†åˆ«å­—æ®µæ˜¯å¦å‡†ç¡®
3. æŸ¥çœ‹å¤‡ä»½æ–‡ä»¶æ˜¯å¦å¯ä»¥æ¢å¤
4. æäº¤Issueåˆ°GitHubä»“åº“
