# 三个新功能测试指南

网站地址：**https://wqchen007.github.io/jkw-7element-alloy-database/**

⚠️ **重要提示**：打开网站前请先清除浏览器缓存，或使用隐身模式。
- Chrome/Edge: 按 `Ctrl+Shift+Delete` 清除缓存
- 或直接使用 `Ctrl+Shift+R` 强制刷新
- 或使用隐身/无痕模式打开

## 功能 1: 主界面数据优先级显示

**测试目标**：主界面表格显示的数据默认为 0K DFT → 0K DPA-3 → 0K DPA-1

### 测试步骤：
1. 打开网站主页
2. 查看主表格中的数据行
3. 注意每行"温度"和"来源"列的标签

### 预期结果：
- 如果材料有 0K DFT 数据，主表格显示 **(0K, DFT)** 标签
- 如果没有 0K DFT，则显示 **(0K, DPA-3)** 标签
- 如果都没有，则显示 **(0K, DPA-1)** 标签
- 主表格始终优先显示 DFT 数据

### 实际验证：
例如，对于第一个材料 (ID=1)：
- 数据源包含：0K DPA-3, 600K DPA-3, 300K DFT, 0K DPA-3
- 主表格应该显示 300K DFT（因为没有 0K DFT，所以显示第一个 0K 数据点）
- 由于实际数据中没有 0K DFT，可能显示为 0K DPA-3

---

## 功能 2: 展开行数据排序

**测试目标**：点击 ▶ 展开子表格后，数据按来源分组（DFT → DPA-3 → DPA-1），每组内温度升序

### 测试步骤：
1. 在主表格中找到任意材料行（有 ▶ 符号的）
2. 点击 ▶ 展开详细数据
3. 观察子表格中的数据顺序

### 预期结果：
- 所有 **DFT** 数据排在最前面
- 然后是 **DPA-3** 数据
- 最后是 **DPA-1** 数据
- 在每个来源内部，温度按升序排列：0K → 300K → 600K → ...

### 示例：
```
▼ 材料名称
  └─ 子表格：
     0K    DFT     (第一组：DFT)
     300K  DFT
     600K  DFT
     0K    DPA-3   (第二组：DPA-3)
     300K  DPA-3
     0K    DPA-1   (第三组：DPA-1)
     300K  DPA-1
```

---

## 功能 3: 弹性常数显示

**测试目标**：力学性能栏显示弹性常数 C₁₁ 值，并可展开查看完整 6×6 矩阵

### 测试步骤：
1. 查看主表格"力学性能"列
2. 寻找显示 **C₁₁=xxx.x** 和 **📊** 按钮的单元格
3. 点击 📊 按钮

### 预期结果：
- 主表格力学性能列显示：**C₁₁=数值** 和 **📊** 按钮
- 点击 📊 按钮后展开显示 6×6 弹性常数矩阵
- 矩阵包含 C₁₁ 到 C₆₆ 所有元素
- 再次点击 📊（变为 ✖）可以收起矩阵

### 展开后的矩阵示例：
```
C₁₁=123.4 📊
┌──────────────────────────┐
│ C₁₁  C₁₂  C₁₃  C₁₄  C₁₅  C₁₆ │
│ C₂₁  C₂₂  C₂₃  C₂₄  C₂₅  C₂₆ │
│ C₃₁  C₃₂  C₃₃  C₃₄  C₃₅  C₃₆ │
│ C₄₁  C₄₂  C₄₃  C₄₄  C₄₅  C₄₆ │
│ C₅₁  C₅₂  C₅₃  C₅₄  C₅₅  C₅₆ │
│ C₆₁  C₆₂  C₆₃  C₆₄  C₆₅  C₆₆ │
└──────────────────────────┘
```

---

## 综合测试流程

1. **清除缓存后打开网站**
2. **验证主表格数据优先级**：检查是否显示 DFT/DPA-3/DPA-1 标签
3. **展开任意材料行**：验证子数据按来源和温度正确排序
4. **点击力学性能列的 📊**：验证弹性常数矩阵显示
5. **在展开行中也测试 📊**：验证展开行中的弹性常数功能

---

## 故障排除

### 如果功能没有显示：
1. **清除浏览器缓存**：
   - Chrome: 设置 → 隐私和安全 → 清除浏览数据 → 缓存的图像和文件
   - Firefox: 设置 → 隐私与安全 → Cookie 和网站数据 → 清除数据
   - Edge: 设置 → 隐私、搜索和服务 → 清除浏览数据

2. **强制刷新页面**：
   - Windows: `Ctrl + Shift + R` 或 `Ctrl + F5`
   - Mac: `Cmd + Shift + R`

3. **使用隐身模式**：
   - Chrome: `Ctrl + Shift + N`
   - Firefox: `Ctrl + Shift + P`
   - Edge: `Ctrl + Shift + N`

4. **等待 CDN 更新**：
   - GitHub Pages CDN 可能需要 5-10 分钟传播更新
   - 如果立即测试看不到效果，请等待几分钟后再试

5. **检查浏览器控制台**：
   - 按 `F12` 打开开发者工具
   - 查看 Console 选项卡是否有 JavaScript 错误
   - 查看 Network 选项卡确认 app.js 已加载最新版本

---

## 代码验证

已部署的功能代码位于：
- **getPrimaryData()**: 实现数据优先级逻辑
- **getSecondaryData()**: 实现排序逻辑
- **elastic-cell**: 实现弹性常数显示和矩阵展开

部署时间：2026-01-09 04:17:53 GMT
部署状态：✅ 成功
